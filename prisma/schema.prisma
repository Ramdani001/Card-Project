generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Role {
  idRole Int    @id @default(autoincrement())
  name   String @unique
  users  User[]
}

model User {
  idUsr     Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  idRole    Int?
  createdAt DateTime @default(now())
  role      Role?    @relation(fields: [idRole], references: [idRole])
}

model TypeCard {
  idTypeCard Int     @id @default(autoincrement())
  name       String
  note       String?
  cards      Card[]
}

model Card {
  idCard     Int        @id @default(autoincrement())
  idDetail   Int
  idTypeCard Int
  detail     DetailCard @relation(fields: [idDetail], references: [idDetail])
  typeCard   TypeCard   @relation(fields: [idTypeCard], references: [idTypeCard])
}

model DetailCard {
  idDetail   Int       @id @default(autoincrement())
  name       String
  price      Float
  stock      Int
  idDiscount Int?
  note       String?
  idImage    Int?
  cards      Card[]
  discount   Discount? @relation(fields: [idDiscount], references: [idDiscount])
  image      Image?    @relation(fields: [idImage], references: [idImage])
}

model Discount {
  idDiscount Int          @id @default(autoincrement())
  discount   Float
  note       String?
  details    DetailCard[]
}

model Image {
  idImage  Int          @id @default(autoincrement())
  name     String
  location String
  details  DetailCard[]
}
